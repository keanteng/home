[{"content":"おはようございます。KeanTeng Blogです。\nついに、ブログで日本語のサポートを開始しました。これにより、これからは日本語での投稿も可能になります。\n過去のブログ記事についても翻訳を追加しており、特に2024年以降の投稿は英語と日本語の両方で公開しています。これらの翻訳はAIを活用して行いました。\nもちろん、今年は私自身も日本語を勉強していますので、新しい投稿は自分で翻訳する予定です。\n今後は、日本語でブログや感想文などを投稿していきたいと考えています。ぜひ楽しみにお待ちください\n","permalink":"http://localhost:1313/home/ja/docs/2025/feature/","summary":"日本語での投稿予定","title":"はじめまして📌"},{"content":"\rUnsplashからの画像\n日本語の勉強と修士課程に追われていて、前回の投稿からしばらく経ちました。しかし、私は戻ってきました。ブログサイトに有益になると思ういくつかの変更点を紹介します。もちろん、今後もより頻繁に投稿できればと思っています。\n日本語の新しい言語サポート 日本語の新しい言語サポートを追加しました。以前からずっとやりたかったのですが、方法がわからず、日本語もあまり得意ではありませんでした。数ヶ月間、日本語を勉強し、日記を書いてみて、自信がついたので、日本語での投稿を増やしたいと考えています。これが、ブログに日本語サポートを追加することを決定したきっかけです。2024年以降の新しい投稿については、多言語対応が追加され、英語と日本語を切り替えることができます（この投稿で試してみてください）。ただし、古い投稿については、現時点では翻訳は保留します。\n埋め込みメディアコンテンツ メディアコンテンツをホストするために外部データベースを使用していないため、スペースとリポジトリサイズを節約するために、リンク、画像、動画などの埋め込みメディアコンテンツのみを使用することにしました。これは、ブログサイトを軽量かつ高速に保つためです。現在、2024年以降のすべての投稿は、埋め込みメディアコンテンツを使用するように改訂されています。古い投稿については、今後改訂を試みる予定です。\nLatexサポート 数式を表示する必要がある場合に備えて、ブログにLatexサポートも追加しました。\nアップデートは以上です。新しい機能を楽しんでいただければ幸いです。今後も頻繁に投稿できるよう努めます。サポートありがとうございます、また次回お会いしましょう！\n","permalink":"http://localhost:1313/home/ja/docs/2025/2025-05-02-post/","summary":"日本語の勉強と修士課程に追われていて、前回の投稿からしばらく経ちました。しかし、私は戻ってきました。ブログサイトに有益になると思ういくつかの変更点を紹介します。","title":"2025年最初の投稿"},{"content":"\r画像: Unsplashより\n特定の場所に行きたいときに、その場所がわからないと本当にイライラしますよね。同様に、PDFフォームの正しい場所にテキストを入力したり、請求書に画像を適切に配置したりするためだけに、コードを数回再実行しなければならない場合、PDFの座標がわからないのは非常に煩わしいことです。\nPDF-Lib というツールを使って請求書生成アプリを作成していたとき、まさにそう感じました。というのも、PDFドキュメント上の目的の場所にテキストを適切に配置するためだけに、コードを何度も再実行する必要があったからです。\nオンラインで情報を調べてみました。「PDF 座標 ビューア」、「PDF ドキュメント 座標 取得方法」など、多くのキーワードで検索しましたが、見つかった解決策は、単にPDFの座標を表示するためだけにソフトウェアのインストールや購入を求めるものばかりでした。2024年にもなって、この機能を提供するウェブサイトがないことに驚きました！とにかく、自分で解決策を見つけ出す必要がありました。\nこの問題を解決するには、PDFの座標系が少し異なる動作をすることを理解する必要があります。たとえば、画像をデカルト平面（直交座標系）に配置すると考えると、その画像の原点は左上隅になります。しかし、PDFの場合は左下隅が原点です。この情報は、正しいPDF座標を得るために変換を行う必要があり、画面上のカーソル座標をそのまま使用することはできないため、非常に重要です。\n変換は次のように行うことができます：\npdf_x = (canvas_x / canvas_width) * page_width\rpdf_y = (canvas_height - canvas_y) / canvas_height * page_height 基本的に、この式はキャンバス上の座標（たとえば画面上のカーソル座標）を正規化し、キャンバスの高さまたは幅に沿った小数での位置を表します。もちろん、この式はキャンバスとPDFドキュメントの原点の違いも考慮します。次に、これらの値を実際のPDFの高さと幅に合わせてスケーリングします。\nPythonプログラム この式を使えば、Pythonプログラムを作成できます。このプログラムは、画面上でカーソルを追跡できるようにするものです。画面には対象のPDFドキュメントを表示する必要があり、画面をクリックすると、変換されたカーソル座標がPDF座標として表示されます：\nPDFドキュメントを扱うために PyMuPDF ライブラリを使用します。次のようにインストールする必要があります：\npy -m pip install PyMuPDF tk プログラムは以下の通りです：\nimport fitz # PyMuPDF import tkinter as tk from PIL import Image, ImageTk # キャンバス上のマウス位置を取得する関数 def on_click(event): canvas_x, canvas_y = event.x, event.y print(f\u0026#34;キャンバス上のカーソル位置: ({canvas_x}, {canvas_y})\u0026#34;) # キャンバス座標をPDF座標にマッピング pdf_x = (canvas_x / canvas_width) * page_width pdf_y = ( (canvas_height - canvas_y) / canvas_height * page_height ) # Y軸の反転を調整 print(f\u0026#34;マッピングされたPDF座標: ({pdf_x}, {pdf_y})\u0026#34;) # PDFをロードして最初のページを取得、エラーがあれば表示 try: pdf_path = \u0026#34;sample.pdf\u0026#34; # 対象のPDFファイルパス document = fitz.open(pdf_path) page = document.load_page(0) # 最初のページを読み込む except Exception as e: print(f\u0026#34;PDFの読み込みエラー: {e}\u0026#34;) exit() # エラーがあれば終了するなどの処理を追加すると良い #pdf_path = input(\u0026#34;PDFファイルのパスを入力してください: \u0026#34;) # ユーザーに入力を促す場合 # 再度開く必要がある場合 (エラーハンドリングによる) # document = fitz.open(pdf_path) # page = document.load_page(0) # ページを画像にレンダリング pix = page.get_pixmap() img = Image.frombytes(\u0026#34;RGB\u0026#34;, [pix.width, pix.height], pix.samples) # tkinterウィンドウを作成 root = tk.Tk() root.title(\u0026#34;PDFビューア\u0026#34;) # 画像をtkinterが使用できる形式に変換 tk_img = ImageTk.PhotoImage(img) # キャンバスを作成し、画像を追加 canvas = tk.Canvas(root, width=pix.width, height=pix.height) canvas.pack() canvas.create_image(0, 0, anchor=tk.NW, image=tk_img) # マウスクリックイベントをon_click関数にバインド canvas.bind(\u0026#34;\u0026lt;Button-1\u0026gt;\u0026#34;, on_click) # キャンバスの寸法を取得（画像寸法と同じ） canvas_width, canvas_height = pix.width, pix.height # PDFページの寸法を取得 page_width = page.rect.width page_height = page.rect.height print(f\u0026#34;PDFページ寸法: {page_width}x{page_height}\u0026#34;) # tkinterメインループを開始 root.mainloop() Github へのリンク\n","permalink":"http://localhost:1313/home/ja/docs/2024/2024-08-08-pdf-coordinate-viewer/","summary":"行きたい場所の正確な位置がわからないとイライラしますよね。それと同じように、PDFフォームの正しい位置にテキストを挿入したり、請求書に画像を適切に配置したりするために、PDFの座標がわからずコードを何度も再実行しなければならないのも、非常に煩わしいものです。","title":"ライブPDF座標ビューア"},{"content":"\rUnsplashからの画像\nこの記事で提供される情報は教育目的のみであり、ガチャゲームプロバイダーとは一切関連がありません。\nガチャゲームは、ルートボックスに似たガチャメカニズムを導入したビデオゲームで、プレイヤーがゲーム内通貨を使ってランダムなゲーム内アイテムを入手するよう誘惑します。このようなメカニズムは2010年代初頭、特に日本で広く使われるようになり、時間とともにモバイルゲーム文化の不可欠な一部となりました。人気のあるガチャゲームには、原神、Arknights、エピックセブン、崩壊：スターレイルなどがあります。これらのゲームは、優れたアート、音楽、ストーリー、そしてロト形式のシステムによるゲーム内アイテム収集を特徴としており、世界中でますます人気が高まっています。\n崩壊：スターレイル\nはじめに ガチャゲームは基本的に世界中のユーザーが無料でプレイできます。しかし、ガチャメカニズムにより、ゲーム内でレアまたは強力なアイテムを入手することは、非常に低い確率で難しいことが多いです。さらに、限られたゲーム内通貨は、プレイヤーがガチャを通じてランダムなゲーム内アイテムと交換する際に急速に枯渇します。ゲームの高額さは、ゲーム内通貨の価格設定に起因しており、プレイヤーはガチャシステムの低い確率性のために、実際のお金を多額費やしてジャックポットを狙う機会を得る必要があります。\nガチャゲームは基本的に無料でプレイできるものの、収益性の高いビジネスです。このメカニズムは、ゲーム内で標準バナーと期間限定バナーとして実装されることが一般的で、標準バナーではプレイヤーが「引く」ことができる永続的に利用可能なアイテムが特徴です。一方、期間限定バナーは、特定の期間内にのみ入手可能な賞品のみを含みます。\nガチャゲームの収益\n崩壊：スターレイルを例に挙げると、このゲームは標準および期間限定キャラクターバナーを備えており、プレイヤーは各バナーから**0.6%**の確率で5つ星キャラクターを、5.1%の確率で4つ星キャラクターまたはライトコーンを獲得できます。良い点は、プレイヤーがバナーで合計90回引くと、5つ星キャラクターが保証されることです。しかし、期間限定キャラクターバナーでは少し異なり、プロモーションの5つ星キャラクターが50%の確率で出現します。もし受け取った5つ星キャラクターがそのキャラクターでなかった場合、次に5つ星を引く際にそのキャラクターが保証されます。\n5つ星を入手する方法は？ バナーで与えられた引く確率以下のランダムな数値が得られれば、5つ星を獲得できます。ランダムな数値は、サーバー上で0から1の間で均等に生成されます。以下は引く確率の計算方法です：\ndef get_rate(warp): # 74回目の引くまで基本確率は同じ if warp \u0026lt; 74: return 0.06 # 73回目の引く以降、90回目まで毎回6%ずつ確率が上昇 elif warp \u0026lt; 90 and warp \u0026gt;= 74: return (warp - 73) * 0.06 + 0.006 else: return 1.00 引くの分布を見つけるのは少し複雑で、幾何分布や再帰的な確率計算が関わります。基本的には、74回未満の引くについては、幾何分布を使用して確率を計算できます：\nprob(X = k) = p * (1 - p)^(k-1)\rp : 成功の確率\rk : 試行回数 73回目の引く以降、90回目（保証）まで引くごとに確率が変化します：\nP(X \u0026lt; 74) = P(X \u0026lt; 73) + (1 - P(X \u0026lt; 73)) * get_rate(74) P(X \u0026lt; 75) = (1 - P(X \u0026lt; 73)) * get_rate_mult(75) * get_rate(75) + P(X \u0026lt; 74) P(X \u0026lt; 76) = (1 - P(X \u0026lt; 73)) * get_rate_mult(76) * get_rate(76) + P(X \u0026lt; 75) + P(X \u0026lt; 74) # 関数 def get_rate_mult(warp): if warp == 75: return 1 - get_rate(74) else: return (1 - get_rate(warp - 1)) * get_rate_mult(warp - 1) 引くの分布を見ると、いくつかの興味深い洞察が得られます：\n最初のプロットは、5つ星の引くの分布を示しており、約70〜80回の引くで5つ星を獲得する可能性が高いことがわかります。74回目の引くあたりで、累積確率曲線が急上昇し、確率の増加を示しています。3番目のプロットも同様です。プロットの作成については、こちらを参照してください。実際、約80回の引くを準備しておけば、少なくとも1つの5つ星を期待できると安全に想定できます。\n期待値の設定 これまでの計算では、ピティやキャラクター保証のケースは考慮していませんでした。実際のシナリオでは、プレイヤーは自分が欲しい5つ星のコピーを入手する確率を知りたいとき、さまざまな条件を持っています。Pythonを使用して何度もシミュレーションを行い、平均を取ることで推定確率を得ることができます。シミュレーションでは、引く回数、アカウントのキャラクター保証の状態、アカウントのピティ量を考慮する必要があります。\ndef calculate_char_probability( warps, character_pity, character_guaranteed, character_copies, num_simulations ): ... ... estimated_probability = successful_simulations / num_simulations return estimated_probability ゲームアカウントの進行状況に基づいて関数にいくつかの入力値を与えると、目標達成の可能性を教えてくれます。もちろん、これによりより効果的に引くことができ、期待値を高め、失望を減らすことができます：\ncalculate_char_probability(\rwarps,\rcharacter_pity,\rcharacter_guaranteed,\rcharacter_copies,\rnum_simulations\r)\r# 戻り値\r推定確率: 0.90 完全なコードはこちらを参照してください。\n参考文献 参考になる優れたリソースや動画：\nhttps://github.com/Jose-AE/hsr-warp-calculator https://github.com/sr229/gacha-prng https://www.youtube.com/watch?v=gZGW190E3ok ","permalink":"http://localhost:1313/home/ja/docs/2024/2024-04-30-gacha-planning-with-python/","summary":"ガチャゲームは、ルートボックスに似たガチャメカニズムを導入したビデオゲームで、プレイヤーがゲーム内通貨を使ってランダムなゲーム内アイテムを入手するよう誘惑します。","title":"Pythonを使ったガチャ計画"},{"content":"\rUnsplashからの画像\n主人公描写の変化 漫画や「マンガ」の読者として、悪役令嬢というジャンルをよく目にします。これは主に女性読者をターゲットにした、転生やファンタジーといった特徴を持つジャンルで、韓国の縦スクロール漫画でますます多く描かれています。『悪女の文具店』、『私が結末を選ぶわ』、『悪役のエンディングは死のみ』は、このジャンルに属する作品のほんの一例です。通常、悪役令嬢は望ましくない敵役として、バッドエンドのストーリーが描かれることが多い一方、ヒロインはハッピーエンドにふさわしい存在として描かれます。\nしかし、悪役令嬢がより自立し、より力を持つ存在として物語の主人公として位置づけられることが増えています。対照的に、物語の敵役としてのヒロインは、依存的で力が弱く、常に女性らしい服装や振る舞いをするという資質で描かれます。論文によると、このような描写は、現代の女性らしさと伝統的な女性らしさの概念の衝突を示しており、現代の文脈ではどちらの女性らしさの表現がより好ましいかをも示唆しています。\n現代のフェミニニティ 本論文では、「悪女は砂時計をひっくり返す」と「訳あり悪女は男装皇帝の溺愛から逃げ出したい」という2つのウェブトゥーンについて、描かれた登場人物の特性や属性の背後にある意味や示唆を調べる研究が行われました。その結果、悪役令嬢たちの女性らしさの違いは、思考、言論、象徴的なプロセス（特定の特性を持つ特定の価値観の担い手としての主人公と敵役）からさらに詳しく調べられることがわかりました。\n主人公：アリア、イェルデリア 敵役：ミエール、ユーリエル 思考プロセス 主人公 敵役 アリア：知的で鋭い観察眼。将来性のあるビジネスに投資して金と権力を得て自立しようとする。自分で行動することが多い。経済的観点や庶民の視点からの詳細な考慮を提供 ミエール：詳細に踏み込まず意見を述べるだけ。上位の地位と権力を確保するために、レディ・イシスや恋人の姉に強く依存。ほとんど受け身。 言論プロセス 主人公 敵役 イェルデリア：生き残ることを試み、殺されるのを避ける。ユーリエルの行動を予見する力を使ってユーリエルを城から追放する。考えを内に秘め、独立して行動する。 ユーリエル：イェルデリアに対して他のキャラクターに頼って行動する。イェルデリアの側室たちの愛情を得ようとする。 象徴的プロセス 主人公 敵役 アリアとイェルデリア：物語を通して少なくとも一度はズボンを着用。経済活動や行政活動に従事。 ユーリエルとミエール：常にドレスを着用し、決してズボンを着用しない。 どちらの物語も、女性でズボンを着用する人が非常に少ないヨーロッパの君主制を舞台としているため、これはアリアとイェルデリアの支配力と、異なる格好をする勇気を示しています。比較から、ミエールとユーリエルは伝統的な女性らしさの担い手として描かれている一方、アリアとイェルデリアは現代的な女性らしさの担い手であり、主流の社会規範に従わないため悪として位置づけられています。\nしかし、アリアとイェルデリアは、目標達成のために他人に頼るだけでなく、自立した女性であることを示しています。このようなケースは、より多くの社会的、知的、性的な自由を可能にする現代的な女性らしさの概念を促進し強調しており、これらの資質は、アリアとイェルデリアが物語の中で彼らの努力において成功していることから、伝統的な女性らしさの理想よりも好ましいとされています。\n変化と移行 端的に言えば、悪役令嬢の特性は、過去に彼女たちが持ちがちだった伝統的な特性から変化しています。家庭的、受動的、従順といった資質は、自由、エンパワーメント、自立に取って代わられています。これらの資質は現在、新しい理想的な女性らしさとして称賛されており、これらは実際、韓国の伝統的な信念において厳しく制限されていた側面です。確かに、このようなケースは、伝統的な女性らしさが未だ韓国文化で優勢であることへの穏やかな批判としても機能しています。\n参考文献 Chertian, V. G. (2022). Villainess protagonists’ performative acts as the representation of modern femininity. Lingua Cultura, 16(2), 133-140. https://doi.org/10.21512/lc.v16i2.8375\n","permalink":"http://localhost:1313/home/ja/docs/2024/2024-03-22-villianess-protagonists-acts/","summary":"漫画や「マンガ」の読者として、主に女性読者をターゲットにした転生やファンタジーといった特徴を持つ「悪役令嬢」というジャンルをよく目にします\u0026hellip;","title":"悪役令嬢主人公のパフォーマティブな行為が現代的フェミニニティを表象するものとして"},{"content":"\rUnsplash から画像\nEPFまたはKWSP（従業員積立基金）は、労働者が退職貯蓄を保護するのを支援するために1951年にマレーシア政府によって設立されました。生活費の高騰と経済情勢の変化により、早期退職を考えている人々にとって課題となっています。「早期に退職するためにどれくらいの貯蓄があれば十分か？」は、快適な退職を求める人々にとって切実な問題となっています。\nHSBCのQuality of Lifeレポートによると、マレーシアのミレニアル世代は、快適に退職するためには平均486万リンギットが必要だと述べています。さらに、同じ目的のために、ジェネレーションXは平均453万リンギット、ベビーブーマーは平均257万リンギットが必要になるとしています。\n個人的には、これは懸念すべき金額です。医療、高税率、住居などの分野での支出の増加は、人々が潜在的に長期にわたる退職期間を維持するのに十分な貯蓄を蓄積することを困難にしています。もちろん、個人の退職貯蓄の適切な計画と予測が、退職段階での目標とライフスタイルの期待を達成するための鍵であることも不可欠です。\nそれだけでなく、EPFによると、会員のわずか4％が50万1リンギットから100万リンギットの貯蓄を持っており、54歳になった会員の35％以上が1万リンギット未満の貯蓄しか持っていません。したがって、口座から貯蓄を引き出すような行動は、非常に悪い考えである可能性があります。\nこの調査では、退職貯蓄目標を100万リンギットに設定し、個人の月給と年間のボーナスに応じて目標達成にかかる年数を決定することに関心があります。\n驚くべきことに、月給3000リンギットを稼いでいる場合、貯蓄が100万リンギットに達するのにかかるのはわずか31.29年です。\ntotal_1_year = 12 * 728 * (1 + i)\rtotal_2_year = 12 * 728 * (1 + i) + 12 * 728 * (1 + i)^2\r...\r... 年数を検索するために、Pythonを使用して目標シーク関数を開発し、関心のある任意の金額を検索できます。\n$$ 10^6 = 12 \\times x \\times (r + r^2 + r^3 + \u0026hellip; + r^n) $$ $$\\iff n = \\frac{1}{ln(r)}\\times ln(\\frac{10^6 \\times (r-1)}{12xr} + 1)$$\nこの方程式をPythonコードに変換して実行できます。\ndef goal_seek(goal, contribution, bonus_contribution, compound_rate): r = 1 + compound_rate/100 contribution = contribution + bonus_contribution/12 years = 1/np.log(r)*np.log((goal*(r-1))/(12*contribution*r) + 1) return years 年間のボーナスがこの方程式にどのように適合するのか疑問に思われるかもしれません。この方程式では、利息が年ごとに支払われると仮定されており、したがって年間のボーナスは月々の支払いに分割できます。\ncontribution = bonus/12 + monthly_salary ただし、年利が毎月与えられる場合、このような仮定は貯蓄の不正確な予測を引き起こす可能性があることに注意してください。\n注意事項 マレーシア人と非マレーシア人では、EPFの拠出率が異なります。もちろん、給与額によっても拠出率が若干異なります。例えば、給与が5000リンギット以下の場合、雇用主の拠出率は13％であり、それ以上では12％になります。拠出額は常にセントなしで最も近いリンギットに切り上げられる必要があります。さらに、月々の拠出率は第三スケジュールを参照できます。\n","permalink":"http://localhost:1313/home/ja/docs/2024/2024-01-09-epf-1-million/","summary":"EPFまたはKWSP（従業員積立基金）は、労働者が退職貯蓄を保護するのを支援するために1951年にマレーシア政府によって設立されました。","title":"EPFで100万円への道"},{"content":" このサイトの設定に使われたコードはどこで確認できますか？ GitHub リポジトリで確認できます 質問を投稿したり、お気に入りリストに追加するなどのインタラクティブな機能はありますか？ Giscusを利用したコメント機能を追加しました。各ブログページの下部でご確認いただけます！ ","permalink":"http://localhost:1313/home/ja/faqs/","summary":"\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eこのサイトの設定に使われたコードはどこで確認できますか？\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/keanteng\"\u003eGitHub リポジトリ\u003c/a\u003eで確認できます\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e質問を投稿したり、お気に入りリストに追加するなどのインタラクティブな機能はありますか？\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://giscus.app/\"\u003eGiscus\u003c/a\u003eを利用したコメント機能を追加しました。各ブログページの下部でご確認いただけます！\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","title":"よくある質問"}]